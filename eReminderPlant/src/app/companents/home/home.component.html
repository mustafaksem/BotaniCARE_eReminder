<div class="mt-3 d-flex justify-content-between allign-items-center" style="padding-left: 45px; padding-right: 50px;">
    <h3 style="font-size: 23px;">Welcome the BotaniCARE/eReminderPlant Application</h3>
</div>

<div class="mt-2" style="margin-left: 50px;margin-right: 50px;">
    <div class="row">
        <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 mt-1">
            <label>Choose the Gardener</label>
            <select (click)="getAll()" (change)="getAllReminders()" name="gardener" [(ngModel)]="selectedGardenerId" class="form-control">
                <option value="">Select...</option>
                @for(gardener of gardeners;track gardener){
                    <option [value]="gardener.id">
                        {{gardener.fullName}}
                    </option>
                }               
            </select>
        </div>
    </div>
    @if(selectedGardenerId){
        <div class="mt-2" style="padding-top: 20px;" >
            <dx-scheduler 
            [dataSource]="reminder"
            currentView="week"
            [startDayHour]="8"
            [endDayHour]="18"
            [showAllDayPanel]="false"
            textExpr="title"
            (onAppointmentFormOpening)="onAppointmentFormOpening($event)"
            (onAppointmentDeleted)="onAppointmentDeleted($event)"
            (onAppointmentDeleting)="onAppointmentDeleting($event)"
            (onAppointmentUpdating)="onAppointmentUpdating($event)">                            
            </dx-scheduler>
        </div>
    }
   
</div>


<!-- Create Modal -->
<div class="modal fade" id="addModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" > Create Reminder Form</h1>
          <button type="button" #addModalCloseBtn class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form #addForm="ngForm" formValidate autocomplete="off" (ngSubmit)="create(addForm)" >
            <div class="modal-body">
                <div class="form-group text-center mt-2">
                    <span class="alert alert-info">{{createModel.startDate}} - {{createModel.endDate}}</span>
                </div>
                
            <div class="form-group mt-4">
                <label>Name</label>
                <input type="text" [(ngModel)]="createModel.name" name="firstName" class="form-control" required minlength="3" (change)="getPlantByName()">
                <div class="invalid-feedback"></div>
            </div>

            <div class="form-group mt-3" >
                <label>Description</label>
                <input type="text" [(ngModel)]="createModel.description" name="lastName" class="form-control" required minlength="3">
                <div class="invalid-feedback"></div>
            </div>

            </div>
            <div class="modal-footer mt-3">
                <button type="submit" class="btn btn-primary w-100">Create</button>
            </div>
        </form>
      </div>
    </div>
  </div>